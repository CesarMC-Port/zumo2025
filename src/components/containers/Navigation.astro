---
import AnimatedLogo from "./AnimatedLogo.astro";
import { Github } from "@lucide/astro";
---

<section class="bg-transparent border-b border-black/10">
    {/* Header */}
    <nav class="w-nav border-b border-gray-800 px-4 py-2.5 md:px-8 backdrop-blur-sm bg-[#0d1117]/90 fixed top-0 z-50" id="home">
      <div class="flex items-center justify-between gap-4">
      <div class="items-center gap-2 opacity-0 animate-slide-in-left hidden md:flex">
        <AnimatedLogo
          text="<NeuroGear/>"
          class="border-2 border-white px-4 py-2 font-mono text-sm hover:bg-white hover:text-black transition-all duration-300 cursor-pointer"
        />
      </div>

      <div class="flex items-center gap-8 opacity-0 animate-fade-in animation-delay-200">
        <a href="#home" class="hover:text-gray-400 transition-all duration-300 hover:scale-110 relative group">
          Home
          <span class="absolute -bottom-1 left-0 w-0 h-0.5 bg-white transition-all duration-300 group-hover:w-full"></span>
        </a>
        <a href="#about" class="hover:text-gray-400 transition-all duration-300 hover:scale-110 relative group">
          Mechanics
          <span class="absolute -bottom-1 left-0 w-0 h-0.5 bg-white transition-all duration-300 group-hover:w-full"></span>
        </a>
        <a href="#projects" class="hover:text-gray-400 transition-all duration-300 hover:scale-110 relative group">
          Electronics
          <span class="absolute -bottom-1 left-0 w-0 h-0.5 bg-white transition-all duration-300 group-hover:w-full"></span>
        </a>
        <a href="#projects" class="hover:text-gray-400 transition-all duration-300 hover:scale-110 relative group">
          Software
          <span class="absolute -bottom-1 left-0 w-0 h-0.5 bg-white transition-all duration-300 group-hover:w-full"></span>
        </a>
      </div>

      <div class="flex items-center gap-4 opacity-0 animate-slide-in-right animation-delay-300">
        <a href="#" target="_blank" rel="noopener noreferrer" class="p-2 hover:bg-gray-800 rounded transition-all duration-300 hover:scale-110 hover:rotate-12">
          <Github size={20} />
        </a>
      </div>
      </div>
    </nav>
</section>

<script>
  let open = false

  const changeStateNav = () => {
    let firstNav:any = document.getElementById("first-element-menu");
		let secondNav:any = document.getElementById("second-element-menu");
		let listNav:any = document.getElementById("nav-element-menu");

    ((firstNav || {}).style || {}).display = !open ? 'none' : 'inline-flex';
    ((secondNav || {}).style || {}).display = open ? 'none' : 'inline-flex';
    ((listNav || {}).style || {}).display = open ? 'none' : 'flex'
    open = !open;
  }

  const setEventSubmit = (num=0) => {
		let buttonNav = document.getElementById("button-element-menu")
		if(buttonNav){
			buttonNav.addEventListener('click',changeStateNav);
		}else{
			num = num + 1;
			if(num < 10){setTimeout(() => {
				setEventSubmit(num)
			}, 200);}
		}
	}
    
	setEventSubmit();
</script>

<style>
  .w-nav{
    width: calc(100% - 96px);
  }
</style>